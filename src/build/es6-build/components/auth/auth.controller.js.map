{"version":3,"sources":["../../../../app/components/auth/auth.controller.js"],"names":["angular","module","controller","AuthController","Auth","UserService","Functions","$location","vm","_fs","signUp","signIn","credentialsX","loading","$onAuthStateChanged","user","path","credentials","console","log","$signInWithEmailAndPassword","email","pass","then","toast","success","catch","error","message","$createUserWithEmailAndPassword","newUser","getUser","uid","name","company","address","zipcode","phone","land","$save"],"mappings":";;AAAA,CAAC,YAAM;AACN;;AAEAA,SACGC,MADH,CACU,iBADV,EAC6B,EAD7B,EAEGC,UAFH,CAEc,gBAFd,EAEgCC,cAFhC;;AAIA,UAASA,cAAT,CAAwBC,IAAxB,EAA8BC,WAA9B,EAA2CC,SAA3C,EAAsDC,SAAtD,EAAiE;AAChE,MAAIC,KAAO,IAAX;AACA,OAAKC,GAAL,GAAWH,SAAX;;AAEAE,KAAGE,MAAH,GAAkBA,MAAlB;AACAF,KAAGG,MAAH,GAAkBA,MAAlB;AACAH,KAAGI,YAAH,GAAkB,EAAlB;AACAJ,KAAGK,OAAH,GAAkB,IAAlB;;AAEAT,OAAKU,mBAAL,CAAyB,gBAAQ;AAChC,OAAGC,IAAH,EAASR,UAAUS,IAAV,CAAe,GAAf;AACT,GAFD;;AAIA,WAASL,MAAT,CAAgBM,WAAhB,EAA6B;AAAA;;AAC5BC,WAAQC,GAAR,CAAYF,WAAZ;AACAC,WAAQC,GAAR,CAAY,QAAZ;AACAX,MAAGK,OAAH,GAAa,IAAb;AACAT,QAAKgB,2BAAL,CAAiCH,YAAYI,KAA7C,EAAoDJ,YAAYK,IAAhE,EACGC,IADH,CACQ,gBAAQ;AACb,UAAKd,GAAL,CAASe,KAAT,GAAiBC,OAAjB,mBAAyCV,KAAKM,KAA9C;AACAd,cAAUS,IAAV,CAAe,YAAf;AACA,IAJH,EAKGU,KALH,CAKS,iBAAS;AACfR,YAAQS,KAAR,CAAc,wBAAd,EAAwCA,KAAxC;AACA,UAAKlB,GAAL,CAASe,KAAT,GAAiBG,KAAjB,CAAuBA,MAAMC,OAA7B;AACApB,OAAGmB,KAAH,GAAaA,MAAMC,OAAnB;AACApB,OAAGK,OAAH,GAAa,KAAb;AACA,IAVH;AAWA;;AAED,WAASH,MAAT,GAAkB;AAAA;;AACjBQ,WAAQC,GAAR,CAAYX,GAAGI,YAAf;AACAR,QAAKyB,+BAAL,CAAqCrB,GAAGI,YAAH,CAAgBS,KAArD,EAA4Db,GAAGI,YAAH,CAAgBU,IAA5E,EACGC,IADH,CACQ,gBAAQ;AACb,QAAIO,UAAUzB,YAAY0B,OAAZ,CAAoBhB,KAAKiB,GAAzB,CAAd;AACAd,YAAQC,GAAR,CAAYX,GAAGI,YAAf;AACAkB,YAAQT,KAAR,GAAkBN,KAAKM,KAAvB;AACAS,YAAQG,IAAR,GAAkBzB,GAAGI,YAAH,CAAgBqB,IAAlC;AACAH,YAAQI,OAAR,GAAkB1B,GAAGI,YAAH,CAAgBsB,OAAlC;AACAJ,YAAQK,OAAR,GAAkB3B,GAAGI,YAAH,CAAgBuB,OAAlC;AACAL,YAAQM,OAAR,GAAkB5B,GAAGI,YAAH,CAAgBwB,OAAlC;AACAN,YAAQO,KAAR,GAAkB7B,GAAGI,YAAH,CAAgByB,KAAlC;AACAP,YAAQQ,IAAR,GAAkB9B,GAAGI,YAAH,CAAgB0B,IAAlC;AACAR,YAAQS,KAAR,GACGhB,IADH,CACQ,OAAKd,GAAL,CAASe,KAAT,GAAiBC,OAAjB,CAAyB,yBAAzB,CADR,EAEGF,IAFH,CAEQhB,UAAUS,IAAV,CAAe,GAAf,CAFR;AAGA,IAdH,EAeGU,KAfH,CAeS,iBAAS;AACf,WAAKjB,GAAL,CAASe,KAAT,GAAiBG,KAAjB,CAAuBA,MAAMC,OAA7B;AACAV,YAAQS,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACAnB,OAAGmB,KAAH,GAAWA,MAAMC,OAAjB;AACA,IAnBH;AAoBA;AACD;AACD,CA7DD","file":"auth.controller.js","sourcesContent":["(() => {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t\t.module(\"auth.controller\", [])\r\n\t\t\t.controller(\"AuthController\", AuthController);\r\n\r\n\tfunction AuthController(Auth, UserService, Functions, $location) {\r\n\t\tlet vm   = this;\r\n\t\tthis._fs = Functions;\r\n\r\n\t\tvm.signUp       = signUp;\r\n\t\tvm.signIn       = signIn;\r\n\t\tvm.credentialsX = {};\r\n\t\tvm.loading      = true;\r\n\r\n\t\tAuth.$onAuthStateChanged(user => {\r\n\t\t\tif(user) $location.path('/');\r\n\t\t});\r\n\r\n\t\tfunction signIn(credentials) {\r\n\t\t\tconsole.log(credentials);\r\n\t\t\tconsole.log('singin');\r\n\t\t\tvm.loading = true;\r\n\t\t\tAuth.$signInWithEmailAndPassword(credentials.email, credentials.pass)\r\n\t\t\t\t\t.then(user => {\r\n\t\t\t\t\t\tthis._fs.toast().success(`Signed in as ${user.email}`);\r\n\t\t\t\t\t\t$location.path('/dashboard');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.error(\"Authentication failed:\", error);\r\n\t\t\t\t\t\tthis._fs.toast().error(error.message);\r\n\t\t\t\t\t\tvm.error   = error.message;\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction signUp() {\r\n\t\t\tconsole.log(vm.credentialsX);\r\n\t\t\tAuth.$createUserWithEmailAndPassword(vm.credentialsX.email, vm.credentialsX.pass)\r\n\t\t\t\t\t.then(user => {\r\n\t\t\t\t\t\tlet newUser = UserService.getUser(user.uid);\r\n\t\t\t\t\t\tconsole.log(vm.credentialsX);\r\n\t\t\t\t\t\tnewUser.email   = user.email;\r\n\t\t\t\t\t\tnewUser.name    = vm.credentialsX.name;\r\n\t\t\t\t\t\tnewUser.company = vm.credentialsX.company;\r\n\t\t\t\t\t\tnewUser.address = vm.credentialsX.address;\r\n\t\t\t\t\t\tnewUser.zipcode = vm.credentialsX.zipcode;\r\n\t\t\t\t\t\tnewUser.phone   = vm.credentialsX.phone;\r\n\t\t\t\t\t\tnewUser.land    = vm.credentialsX.land;\r\n\t\t\t\t\t\tnewUser.$save()\r\n\t\t\t\t\t\t\t\t.then(this._fs.toast().success('Signed up successfully!'))\r\n\t\t\t\t\t\t\t\t.then($location.path('/'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tthis._fs.toast().error(error.message);\r\n\t\t\t\t\t\tconsole.error(\"Error: \", error);\r\n\t\t\t\t\t\tvm.error = error.message;\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n})();"]}