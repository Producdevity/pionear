{"version":3,"sources":["../../../../app/components/auth/auth.controller.js"],"names":["angular","module","controller","AuthController","Auth","UserService","Functions","$location","vm","_fs","console","log","signUp","signIn","loading","$onAuthStateChanged","credentials","$signInWithEmailAndPassword","email","pass","then","toast","success","user","path","catch","error","message","$createUserWithEmailAndPassword","newUser","getUser","uid","name","company","address","zipcode","phone","land","$save"],"mappings":";;AAAA,CAAC,YAAM;AACN;;AAEAA,SACGC,MADH,CACU,iBADV,EAC6B,EAD7B,EAEGC,UAFH,CAEc,gBAFd,EAEgCC,cAFhC;;AAIA,UAASA,cAAT,CAAwBC,IAAxB,EAA8BC,WAA9B,EAA2CC,SAA3C,EAAsDC,SAAtD,EAAiE;AAChE,MAAIC,KAAK,IAAT;AACA,OAAKC,GAAL,GAAWH,SAAX;AACAI,UAAQC,GAAR,CAAY,gBAAZ;AACAH,KAAGI,MAAH,GAAYA,MAAZ;AACAJ,KAAGK,MAAH,GAAYA,MAAZ;;AAEAL,KAAGM,OAAH,GAAa,IAAb;;AAEAV,OAAKW,mBAAL,CAAyB,gBAAQ;AAChC;AACA,GAFD;;AAIA,WAASF,MAAT,CAAgBG,WAAhB,EAA6B;AAAA;;AAC5BN,WAAQC,GAAR,CAAYK,WAAZ;AACAN,WAAQC,GAAR,CAAY,QAAZ;AACAH,MAAGM,OAAH,GAAa,IAAb;AACAV,QAAKa,2BAAL,CAAiCD,YAAYE,KAA7C,EAAoDF,YAAYG,IAAhE,EACGC,IADH,CACQ,gBAAQ;AACb,UAAKX,GAAL,CAASY,KAAT,GAAiBC,OAAjB,mBAAyCC,KAAKL,KAA9C;AACAX,cAAUiB,IAAV,CAAe,YAAf;AACA,IAJH,EAKGC,KALH,CAKS,iBAAS;AACff,YAAQgB,KAAR,CAAc,wBAAd,EAAwCA,KAAxC;AACA,UAAKjB,GAAL,CAASY,KAAT,GAAiBK,KAAjB,CAAuBA,MAAMC,OAA7B;AACAnB,OAAGkB,KAAH,GAAaA,MAAMC,OAAnB;AACAnB,OAAGM,OAAH,GAAa,KAAb;AACA,IAVH;AAWA;;AAED,WAASF,MAAT,CAAgBI,WAAhB,EAA6B;AAAA;;AAC5BN,WAAQC,GAAR,CAAYK,WAAZ;AACAZ,QAAKwB,+BAAL,CAAqCZ,YAAYE,KAAjD,EAAwDF,YAAYG,IAApE,EACGC,IADH,CACQ,gBAAQ;AACb,QAAIS,UAAYxB,YAAYyB,OAAZ,CAAoBP,KAAKQ,GAAzB,CAAhB;AACArB,YAAQC,GAAR,CAAYK,WAAZ;AACAa,YAAQX,KAAR,GAAgBK,KAAKL,KAArB;AACAW,YAAQG,IAAR,GAAgBhB,YAAYgB,IAA5B;AACAH,YAAQI,OAAR,GAAmBjB,YAAYiB,OAA/B;AACAJ,YAAQK,OAAR,GAAmBlB,YAAYkB,OAA/B;AACAL,YAAQM,OAAR,GAAmBnB,YAAYmB,OAA/B;AACAN,YAAQO,KAAR,GAAiBpB,YAAYoB,KAA7B;AACAP,YAAQQ,IAAR,GAAgBrB,YAAYqB,IAA5B;AACAR,YAAQS,KAAR,GACGlB,IADH,CACQ,OAAKX,GAAL,CAASY,KAAT,GAAiBC,OAAjB,CAAyB,yBAAzB,CADR,EAEGF,IAFH,CAEQb,UAAUiB,IAAV,CAAe,GAAf,CAFR;AAGA,IAdH,EAeGC,KAfH,CAeS,iBAAS;AACf,WAAKhB,GAAL,CAASY,KAAT,GAAiBK,KAAjB,CAAuBA,MAAMC,OAA7B;AACAjB,YAAQgB,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACAlB,OAAGkB,KAAH,GAAWA,MAAMC,OAAjB;AACA,IAnBH;AAoBA;AACD;AACD,CA7DD","file":"auth.controller.js","sourcesContent":["(() => {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t\t.module(\"auth.controller\", [])\r\n\t\t\t.controller(\"AuthController\", AuthController);\r\n\r\n\tfunction AuthController(Auth, UserService, Functions, $location) {\r\n\t\tlet vm = this;\r\n\t\tthis._fs = Functions;\r\n\t\tconsole.log('authcontroller');\r\n\t\tvm.signUp = signUp;\r\n\t\tvm.signIn = signIn;\r\n\r\n\t\tvm.loading = true;\r\n\r\n\t\tAuth.$onAuthStateChanged(user => {\r\n\t\t\t//if(user) $location.path('/');\r\n\t\t});\r\n\r\n\t\tfunction signIn(credentials) {\r\n\t\t\tconsole.log(credentials);\r\n\t\t\tconsole.log('singin');\r\n\t\t\tvm.loading = true;\r\n\t\t\tAuth.$signInWithEmailAndPassword(credentials.email, credentials.pass)\r\n\t\t\t\t\t.then(user => {\r\n\t\t\t\t\t\tthis._fs.toast().success(`Signed in as ${user.email}`);\r\n\t\t\t\t\t\t$location.path('/dashboard');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.error(\"Authentication failed:\", error);\r\n\t\t\t\t\t\tthis._fs.toast().error(error.message);\r\n\t\t\t\t\t\tvm.error   = error.message;\r\n\t\t\t\t\t\tvm.loading = false;\r\n\t\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction signUp(credentials) {\r\n\t\t\tconsole.log(credentials);\r\n\t\t\tAuth.$createUserWithEmailAndPassword(credentials.email, credentials.pass)\r\n\t\t\t\t\t.then(user => {\r\n\t\t\t\t\t\tlet newUser   = UserService.getUser(user.uid);\r\n\t\t\t\t\t\tconsole.log(credentials);\r\n\t\t\t\t\t\tnewUser.email = user.email;\r\n\t\t\t\t\t\tnewUser.name  = credentials.name;\r\n\t\t\t\t\t\tnewUser.company  = credentials.company;\r\n\t\t\t\t\t\tnewUser.address  = credentials.address;\r\n\t\t\t\t\t\tnewUser.zipcode  = credentials.zipcode;\r\n\t\t\t\t\t\tnewUser.phone  = credentials.phone;\r\n\t\t\t\t\t\tnewUser.land  = credentials.land;\r\n\t\t\t\t\t\tnewUser.$save()\r\n\t\t\t\t\t\t\t\t.then(this._fs.toast().success('Signed up successfully!'))\r\n\t\t\t\t\t\t\t\t.then($location.path('/'));\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tthis._fs.toast().error(error.message);\r\n\t\t\t\t\t\tconsole.error(\"Error: \", error);\r\n\t\t\t\t\t\tvm.error = error.message;\r\n\t\t\t\t\t});\r\n\t\t}\r\n\t}\r\n})();"]}